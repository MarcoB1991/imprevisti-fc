/* ====== LAYOUT & COMPONENT STRUCTURE ====================================== */
.container{max-width:1200px; margin:auto; padding:24px}

/* Header */
.header{display:flex; gap:16px; align-items:center; justify-content:space-between; margin-bottom:18px}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:48px; height:48px; border-radius:10px; box-shadow:var(--shadow)}
.title{font-size:20px; margin:0; font-weight:800; letter-spacing:.2px}
.subtitle{margin:0; font-size:13px; color:var(--muted)}

/* Tabs */
.tabs{display:flex; gap:10px; flex-wrap:wrap}
.tab{
  border:2px solid var(--border);
  background:linear-gradient(135deg, color-mix(in oklch, var(--panel) 92%, black 8%), color-mix(in oklch, var(--panel) 85%, black 15%));
  color:var(--text);
  padding:10px 14px;
  border-radius:12px;
  cursor:pointer;
  user-select:none;
  transition:transform .15s ease, box-shadow .15s ease, background .2s ease;
}
.tab[aria-selected="true"]{
  background:linear-gradient(135deg, color-mix(in oklch, var(--panel-2) 92%, black 8%), color-mix(in oklch, var(--panel) 88%, black 12%));
  box-shadow:var(--ring);
}
.tab:hover{ transform:translateY(-1px) }

/* Grid */
.grid{display:grid; grid-template-columns:1.05fr .95fr; gap:18px}
@media (max-width:1050px){ .grid{grid-template-columns:1fr} }

/* Cards */
.card{
  background:
    linear-gradient(180deg, color-mix(in oklch, var(--panel) 98%, black 2%), color-mix(in oklch, var(--panel) 90%, black 10%));
  border:1px solid var(--border);
  border-radius:16px; padding:16px; box-shadow:var(--shadow)
}
.card h2{margin:4px 0 12px; font-size:16px; letter-spacing:.2px; font-weight:700}

/* Controls */
.controls{display:grid; grid-template-columns:1fr 1fr; gap:12px}
@media (max-width:640px){ .controls{grid-template-columns:1fr} }
.row{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  padding:10px 12px; border:1px solid var(--border); border-radius:12px;
  background:color-mix(in oklch, var(--panel) 88%, black 12%)
}
input, select{
  width:100%; background:color-mix(in oklch, var(--panel) 80%, black 20%);
  color:var(--text); border:1px solid var(--border); border-radius:10px; padding:10px
}

/* Actions */
.actions{display:flex; flex-wrap:wrap; gap:12px; margin-top:12px}

/* Result – più grande e con watermark logo */
.result{
  position:relative;
  display:flex; flex-direction:column; gap:10px;
  border:1px dashed color-mix(in oklch, var(--border) 70%, black 30%);
  border-radius:14px; padding:16px;
  background:
    radial-gradient(600px 300px at 90% -20%, color-mix(in oklch, var(--gold-2) 10%, transparent), transparent),
    color-mix(in oklch, var(--panel) 85%, black 15%);
  min-height:180px;
}
.result::before{
  content:""; position:absolute; inset:auto 12px 12px auto; width:150px; height:150px; opacity: .30;
  pointer-events:none;
}
.result h3{font-size:20px; margin:2px 0}

/* Saved list */
.stack{display:flex; gap:8px; flex-wrap:wrap}
.list{display:flex; flex-direction:column; gap:10px; max-height:520px; overflow:auto; padding-right:6px}
.item{
  display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center;
  background:color-mix(in oklch, var(--panel) 82%, black 18%); border:1px solid var(--border); border-radius:12px; padding:10px
}

/* Mega action (bottone “Estrai Imprevisto” in stile card con immagine) */
.mega-action{
  display:block; width:100%;
  border:2px solid var(--border); border-radius:16px; overflow:hidden;
  background:
    linear-gradient(0deg, rgba(0,0,0,.45), rgba(0,0,0,.45)),
    url("../img/hero-extract.jpg") center/cover no-repeat;
  min-height:340px;
  padding:20px;
  box-shadow:var(--shadow);
  transition:transform .18s ease, box-shadow .18s ease, filter .25s ease;
}

.mega-action .mega-title{
  font-weight:800; font-size:18px; letter-spacing:.3px; margin:0 0 6px;
  color:#fff;
}
.mega-action .mega-sub{ color:#f1f5f9; font-size:13px; margin:0 }

/* Spaziatura coerente per pulsanti a tutta riga */
.full-row{display:block; width:100%}

/* --- NAVBAR + HAMBURGER --- */

/* Layout base header/nav – desktop */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  margin-bottom:18px;
}

.nav-menu{
  display:flex;
  align-items:center;
  gap:8px;
}

/* Bottone hamburger – inizialmente nascosto (solo mobile) */
.nav-toggle{
  display:none;               /* mostrato solo nel media query sotto */
  border:1px solid var(--border);
  border-radius:10px;
  padding:8px;
  background:
    linear-gradient(135deg,
      color-mix(in oklch, var(--panel-2) 85%, black 15%),
      color-mix(in oklch, var(--panel) 82%, black 18%));
  cursor:pointer;
}

.nav-toggle span{
  display:block;
  width:22px;
  height:2px;
  border-radius:999px;
  background:var(--text);
  margin:4px 0;
  transition:transform .15s ease, opacity .15s ease;
}

/* --- VERSIONE MOBILE (schermi sotto ~768px) --- */
/* Usiamo max-width: 768px come proxy per “mobile < 1600x720” */

@media (max-width: 768px){
  .header{
    position:relative;
    align-items:center;
  }

  /* Mostra il bottone hamburger */
  .nav-toggle{
    display:inline-flex;
    align-items:center;
    justify-content:center;
  }

  /* Il menu diventa un pannello a tendina */
  .nav-menu{
    position:absolute;
    top:72px;
    right:16px;
    left:16px;
    flex-direction:column;
    padding:10px;
    background:
      linear-gradient(180deg,
        color-mix(in oklch, var(--panel-2) 92%, black 8%),
        color-mix(in oklch, var(--panel) 88%, black 12%));
    border:1px solid var(--border);
    border-radius:12px;
    box-shadow:0 18px 40px rgba(0,0,0,.45);
    display:none;             /* nascosto di default */
    z-index:20;
  }

  /* Quando è aperto (classe messa dallo script) */
  .nav-menu.is-open{
    display:flex;
  }

  /* I tab occupano tutta la larghezza nel pannello */
  .nav-menu .tab{
    width:100%;
    justify-content:flex-start;
  }
}
